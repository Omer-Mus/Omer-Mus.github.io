<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KOL_sim: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">KOL_sim<span id="projectnumber">&#160;1.0</span>
   <div>A lightweight physics simulation library</div>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">KOL_sim Documentation</div></div>

</div><!--header-->
<div class="contents">
    <div>


        <div class="title">Introduction</div>
        <b>KOL_sim</b> is a lightweight physics simulation library for macOS systems providing an environment for physics primitives like springs and masses. Users can create masses, springs, and more complicated objects, apply constraints, actuate springs, modify simulation parameters in real-time, and run headless or not (with or without visualization). KOL_sim can potentially be used for robotics, machine learning, physics and biomedical purposes, topology optimization, etc.

        <br />
        <br />
        <br />

        <div class="title">Dependencies</div>

        <div>Technologies needed: macOS (any version) and Xcode.</div>
        <div>We recommend using -O2 when running <b>KOL_sim</b> (chaning optimization in Xcode can be found in project->build settings).</div>
        GLUT is already installed on macOS machines, to link GLUT do the following: <br>
        - To check, Open Xcode located in "/Developer/Applications/" <br>
        - Choose "New Project" from the file menu <br>
        - Choose "Command Line Tool" under the Application template for Mac OS X <br>
        - Choose type "C++" <br>
        - Enter your desired project name and directory and click create <br>
        - In the "Linked Frameworks and Libraries" area click the "+" button, and select "OpenGL.framework" <br>
        - Repeat for "GLUT.framework” <br>
        - <a href="https://en.wikibooks.org/wiki/OpenGL_Programming/Installation/Mac">Source</a> <br>
        - Clone <a href="https://github.com/Omer-Mus/KOL_sim">this git repository</a> <br>
        - Follow the manual.



        <br />
        <br />
        <br />

        <div class="title">“Hello World” Tutorial</div>
        <div>
            To start, include sim.hpp, specify a time step (DT) and a total time frame (T). These variables will determine the length and accuracy for the simulation. The smaller DT is, the longer and slower the simulation will be (usually small DT is used for measuring precise short movements). Then, call Simulation from the KOL_sim namespace and pass the variables to the constructor. Now you have the simulation object.
        </div>
        <br />
        <div>
            To create and object, we create a vector of springs and a vector for masses. The function, “createPendulum,” will take these vectors and form the object by filling these vector masses and springs corresponding to the object’s shape. These vectors are the structure itself.
        </div>
        <br />
        <div>
            Once calling <b>sim.simulate</b>, The simulation begins. It returns a 3D vector of all masses’ dispositions if the user wants to render it to a file and run a headless (no GUI) simulation. We can <b>sim.start</b> to visualize the disposition of the object.
        </div>

        <br />
        <div>
            Here’s an example of creating a pendulum:
        </div>

        <div class="fragment">
            <div class="line"> #include "sim.hpp" </div> <br />
            <div class="line"> int main(int argc, char** argv) { </div> <br />
            <div class="line">        static const double DT = 0.0001; <span class="comment">// time step</span> </div>
            <div class="line">        double T = 14; <span class="comment">// total time of simulation</span> </div> <br />
            <div class="line"> <span class="comment">       // create the simulation object </span> </div>
            <div class="line">        KOL_sim::Simulation sim = KOL_sim::Simulation(T, DT); </div> <br />
            <div class="line"> <span class="comment">       // masses and spring vectors to store object structure</span> </div>
            <div class="line">        std::vector<KOL_sim::Mass> masses; <span class="comment">// passed as reference to create_pendulum() & simulate() </span> </div>
            <div class="line">        std::vector<KOL_sim::Spring> springs; <span class="comment">// passed as reference to create_pendulum() & simulate()</span></div> <br />
            <div class="line"> <span class="comment">       //make a pendulum </span></div>
            <div class="line">        KOL_sim::Object_Examples::create_pendulum(masses,springs); </div> <br />

            <div class="line"> <span class="comment">       // pass the structure to sim and run </span> </div>
            <div class="line">        sim.simulate(springs, masses); <span class="comment">// run headless </span> </div>
            <div class="line">        sim.start(argc, argv);         <span class="comment">// run for visualization </span> </div>
            <div class="line">        return 0; </div>
            <div class="line"> } </div>

        </div>


        <br />
        <div>
            Output: <br />
            <img src="pendulum.gif" alt="Italian Trulli">
        </div>




        <br />



        <div> <b>KOL_sim::ObjectExamples::createPendulum(masses,springs); </b> simply written as such: </div>
        <br />

        <div class="fragment">
            <div class="line"> void create_pendulum(std::vector<KOL_sim::Mass>& masses, std::vector<KOL_sim::Spring>& springs) { </div> <br />
            <div class="line">       GLfloat RED[] = {1, 0, 0}; </div>
            <div class="line">       GLfloat GREEN[] = {0, 1, 0}; </div>
            <div class="line"> <span class="comment">                                  //  x   y  z  weight  size  color   fixed (optional)</span> </div>
            <div class="line">       masses.push_back(KOL_sim::Mass(0.0, 0, 2,   1  ,  0.05, GREEN, true)); </div>
            <div class="line">       masses.push_back(KOL_sim::Mass(1.9,0,2,100, 0.12, RED)); </div> <br />
            <div class="line">       for (int i=0; i < masses.size()-1; ++i) </div>
            <div class="line">            for (int j = i + 1; j < masses.size(); ++j) </div>
            <div class="line"> <span class="comment">                                             //    mass1       mass2    spring constant</span></div>
            <div class="line">                springs.push_back(KOL_sim::Spring(&masses[i], &masses[j], 1’000’000)); </div>
            <div class="line"> } </div>

        </div>

        <br />
        <div>Each mass gets a coordinate in space (first 3 elements) and weight. Color, size and fixed are optional (the rest is elaborated in KOL_sim::mass). The loop at the end attaches each mass to another with a spring. That is usually how we compose a body for the simulation.</div>
        <br />

        <div>Alternatively here’s an example of creating a lattice object dropped from some height:</div>

        <div class="fragment">
            <div class="line"> void create_lattice(std::vector<KOL_sim::Mass>& masses, std::vector<KOL_sim::Spring>& springs) {</div> <br />
            <div class="line">        GLfloat RED[] = {1, 0, 0}; </div> <br />
            <div class="line">        GLfloat GREEN[] = {0, 1, 0}; </div>

            <div class="line">        for(int i=0; i<4; ++i) </div>
            <div class="line">             for(int j=0; j<4; ++j) </div>
            <div class="line">                 for(int k=1; k<4; ++k) </div>
            <div class="line">                      masses.push_back(KOL_sim::Mass(j*0.3,i*0.3,k*0.3+2, 3, 0.10, RED)); </div> <br />
            <div class="line">        for (int i=0; i < masses.size()-1; ++i) </div>
            <div class="line">              for (int j = i + 1; j < masses.size(); ++j)  <span class="comment">// same logic as the previous example </span> </div>
            <div class="line">                    springs.push_back(KOL_sim::Spring(&masses[i], &masses[j], 2000)); </div>
            <div class="line"> }</div>

        </div>

        <br />
        <div>
            Output: <br />
            <img src="lattice.gif" alt="Italian Trulli">
        </div>
        <br />


        <!--<div class="title">Dependencies</div>-->





    </div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
